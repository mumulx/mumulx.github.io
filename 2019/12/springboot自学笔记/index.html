<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        Springboot自学笔记 - 木木的个人博客
      </title>
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  
  <meta name="theme-color" content="#000000" />
  
  <meta http-equiv="window-target" content="_top" />
  
  
  <meta name="description" content="Springboot的学习记录." />
  <meta name="generator" content="Hugo 0.59.1 with theme pure" />
  <title>Springboot自学笔记 - 木木的个人博客</title>
  

  <link rel="stylesheet" href="https://mumulx.github.io/css/style.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css"> 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <meta property="og:title" content="Springboot自学笔记" />
<meta property="og:description" content="Springboot的学习记录." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://mumulx.github.io/2019/12/springboot%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/" />
<meta property="article:published_time" content="2019-12-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-12-12T00:00:00+00:00" />

<meta itemprop="name" content="Springboot自学笔记">
<meta itemprop="description" content="Springboot的学习记录.">


<meta itemprop="datePublished" content="2019-12-12T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2019-12-12T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="6549">



<meta itemprop="keywords" content="Spring家族," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Springboot自学笔记"/>
<meta name="twitter:description" content="Springboot的学习记录."/>

  <!--[if lte IE 9]>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
    <![endif]-->

  <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->

</head>
  </head>
  

  <body class="main-center" itemscope itemtype="https://schema.org/WebPage"><header class="header" itemscope itemtype="https://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://github.com/mumulx" target="_blank">
            <img class="img-circle img-rotate" src="https://mumulx.github.io/avatar.png" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">木木就是两个木</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md">木木</h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>xuzhou, China</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="想要查找什么..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="https://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/posts">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/categories">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/tags">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/about">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>
  <aside class="sidebar" itemscope itemtype="https://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content"><p>我们的征途是星辰大海！</p>
            </div>
        </div>
    </div>
</div>

      <div class="widget">
    <h3 class="widget-title"> 分类</h3>
    <div class="widget-body">
        <ul class="category-list">
            <li class="category-list-item"><a href="https://mumulx.github.io/categories/%E6%8A%80%E6%9C%AF%E6%94%B6%E5%BD%95/" class="category-list-link">技术收录</a><span class="category-list-count">9</span></li>
            <li class="category-list-item"><a href="https://mumulx.github.io/categories/%E6%8A%80%E6%9C%AF%E6%A1%86%E6%9E%B6/" class="category-list-link">技术框架</a><span class="category-list-count">6</span></li>
            <li class="category-list-item"><a href="https://mumulx.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/" class="category-list-link">杂七杂八</a><span class="category-list-count">2</span></li>
            <li class="category-list-item"><a href="https://mumulx.github.io/categories/%E7%A7%81%E4%BA%BA%E5%8D%9A%E5%AE%A2/" class="category-list-link">私人博客</a><span class="category-list-count">1</span></li>
            <li class="category-list-item"><a href="https://mumulx.github.io/categories/%E9%97%AE%E9%A2%98%E6%94%B6%E5%BD%95/" class="category-list-link">问题收录</a><span class="category-list-count">1</span></li>
        </ul>
    </div>
</div>
      <div class="widget">
    <h3 class="widget-title"> 标签</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
            
            <li class="tag-list-item"><a href="https://mumulx.github.io/tags/node/" class="tag-list-link">node</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://mumulx.github.io/tags/spring%E5%AE%B6%E6%97%8F/" class="tag-list-link">spring家族</a><span
                    class="tag-list-count">5</span></li>
            
            
            <li class="tag-list-item"><a href="https://mumulx.github.io/tags/%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98/" class="tag-list-link">其他问题</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://mumulx.github.io/tags/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" class="tag-list-link">前端框架</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://mumulx.github.io/tags/%E5%BC%80%E5%8F%91%E8%BD%AF%E4%BB%B6/" class="tag-list-link">开发软件</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://mumulx.github.io/tags/%E6%97%A5%E8%AE%B0/" class="tag-list-link">日记</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://mumulx.github.io/tags/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/" class="tag-list-link">杂七杂八</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://mumulx.github.io/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/" class="tag-list-link">版本控制</a><span
                    class="tag-list-count">2</span></li>
            
        </ul>

    </div>
</div>
      
<div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://mumulx.github.io/2020/01/intellijidea%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/" class="title">IntelliJIDEA基础配置</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-01-03 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-01-03</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://mumulx.github.io/2020/01/visualstudiocode%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6/" class="title">VisualStudioCode常用插件</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-01-03 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-01-03</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://mumulx.github.io/2020/01/web%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF%E6%A0%88/" class="title">Web前端技术栈</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2020-01-03 00:00:00 &#43;0000 UTC" itemprop="datePublished">2020-01-03</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://mumulx.github.io/2019/12/vue%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/" class="title">Vue自学笔记</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2019-12-14 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-12-14</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://mumulx.github.io/2019/12/springboot%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/" class="title">Springboot自学笔记</a>
                    </p>
                    <p class="item-date">
                        <time datetime="2019-12-12 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-12-12</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    
  <aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="https://schema.org/WPSideBar">
    <div class="slimContent">
      <nav id="toc" class="article-toc">
        <h3 class="toc-title">文章目录</h3>
        <div class="toc-content always-active"><nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#简介">简介</a>
<ul>
<li><a href="#微服务">微服务</a></li>
<li><a href="#spring-boot可以快速开发-微服务模块">spring boot可以快速开发 微服务模块</a></li>
<li><a href="#配置java环境变量">配置java环境变量</a></li>
<li><a href="#配置maven环境变量">配置maven环境变量</a></li>
<li><a href="#目录结构resources">目录结构resources：</a></li>
<li><a href="#spring-boot内置了tomcat-并且不需要打成war再执行">spring boot内置了tomcat，并且不需要打成war再执行。</a></li>
<li><a href="#主配置类">主配置类</a></li>
<li><a href="#配置文件">配置文件</a></li>
<li><a href="#通过yaml给对象注入值">通过yaml给对象注入值：</a></li>
<li><a href="#propertysource-默认会加载application-properties-application-yml文件中的数据">@PropertySource：默认会加载application.properties/application.yml文件中的数据；</a></li>
<li><a href="#importresource">@ImportResource</a></li>
<li><a href="#spring-boot全局配置文件中的-占位符表达式">spring boot全局配置文件中的 占位符表达式</a></li>
<li><a href="#多环境的切换-profile">多环境的切换（profile）</a></li>
<li><a href="#配置文件的位置">配置文件的位置</a></li>
<li><a href="#日志">日志</a></li>
<li><a href="#springboot开发web项目-静态资源-html-css-js">springboot开发Web项目 (静态资源 html css js  )</a>
<ul>
<li><a href="#spring-boot是一个jar-因此-静态资源就不是再存放到-webapps中-存放在哪里">spring boot是一个jar，因此 静态资源就不是再存放到 webapps中， 存放在哪里？</a></li>
<li><a href="#如何自己写-静态资源-如何放到如spring-boot中">如何自己写 静态资源，如何放到如spring boot中？</a></li>
<li><a href="#设置欢迎页">设置欢迎页：</a></li>
<li><a href="#自定义-favicon-ico">自定义 favicon.ico</a></li>
<li><a href="#如何自定义静态资源目录-properties文件中的-prefix-属性">如何自定义静态资源目录（Properties文件中的 prefix+属性） ：</a></li>
</ul></li>
</ul></li>
<li><a href="#动态资源-jsp-spring-boot默认不支持">动态资源： JSP(spring boot默认不支持)</a>
<ul>
<li><a href="#引入thymeleaf-到官网查询-thymeleaf的依赖-maven">引入thymeleaf：到官网查询 thymeleaf的依赖（Maven）</a>
<ul>
<li><a href="#使用thymeleaf-代码在哪里写">使用thymeleaf:代码在哪里写？</a></li>
</ul></li>
<li><a href="#spring-boot整合jsp开发">Spring boot整合JSP开发</a>
<ul>
<li><a href="#spring-boot整合jsp开发步骤">Spring boot整合JSP开发步骤：</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
        </div>
      </nav>
    </div>
  </aside>
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="https://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/2019/12/springboot%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/"
    >Springboot自学笔记</a
  >
</h1>

      <div class="article-meta">
        <span class="article-date">
  <i class="icon icon-calendar-check"></i>
<a href="https://mumulx.github.io/2019/12/springboot%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2019-12-12 00:00:00 &#43;0000 UTC" itemprop="datePublished">2019-12-12</time>
</a>
</span><span class="article-category">
  <i class="icon icon-folder"></i>
  <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%A1%86%E6%9E%B6/"> 技术框架 </a>
</span>  
  <span class="article-tag">
    <i class="icon icon-tags"></i>
    <a class="article-tag-link" href="/tags/spring%E5%AE%B6%E6%97%8F/"> Spring家族 </a>
  </span>

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2019/12/springboot%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/#comments"
            class="article-comment-link">评论</a></span>
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计:6549字</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长:14分 </span>
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      

<h2 id="简介">简介</h2>

<p><a href="https://spring.io/projects/spring-boot/">SpringBoot官网</a></p>

<p>SpringBoot是由Pivotal团队在2013年开始研发、2014年4月发布第一个版本的全新开源的轻量级框架。它基于Spring4.0设计，不仅继承了Spring框架原有的优秀特性，而且还通过简化配置来进一步简化了Spring应用的整个搭建和开发过程。另外SpringBoot通过集成大量的框架使得依赖包的版本冲突，以及引用的不稳定性等问题得到了很好的解决。</p>

<h3 id="微服务">微服务</h3>

<p>微服务：一个项目 可以由多个 小型服务构成（微服务）</p>

<h3 id="spring-boot可以快速开发-微服务模块">spring boot可以快速开发 微服务模块</h3>

<ol>
<li>简化j2ee开发</li>
<li>整个spring技术栈的整合（整合springmvc  spring）<br /></li>
<li>整个j2ee技术的整合（整合mybatis redis）</li>
</ol>

<h3 id="配置java环境变量">配置java环境变量</h3>

<ul>
<li>JAVA_HOME： jdk根目录</li>
<li>path:%JAVA_HOME%\bin</li>
<li>classpath:.%JAVA_HOME%\lib%JAVA_HOME%\lib\tools.jar</li>
</ul>

<h3 id="配置maven环境变量">配置maven环境变量</h3>

<ul>
<li>MAVEN_HOME： maven根目录</li>
<li>path: maven根目录\bin</li>
<li>配置Maven本地仓库：  mvn根目录/conf/setting.xml : <code>&lt;localRepository&gt;C:/workplace/jar/mavenrep&lt;/localRepository&gt;</code></li>
<li>在IDE中配置mvn：
    window-&gt;preference-&gt;搜maven ,installations/user settings
<br /></li>
</ul>

<h3 id="目录结构resources">目录结构resources：</h3>

<ul>
<li>static:静态资源（js css 图片 音频 视频）</li>
<li>templates：模板文件（模版引擎freemarker ,thymeleaf；默认不支持jsp）</li>
<li>application.properties： 配置文件
<br /></li>
</ul>

<h3 id="spring-boot内置了tomcat-并且不需要打成war再执行">spring boot内置了tomcat，并且不需要打成war再执行。</h3>

<p>可以在appication.properties对端口号等服务端信息进行配置</p>

<p>spring boot将各个应用/三方框架 设置成了一个个“场景”stater，以后要用哪个，只需要引入那个场景即可。
选完之后，spring boot就会将 该场景所需要的所有依赖 自动注入。</p>

<p>例如 选择 <code>web</code>,spring boot就会将web相关的依赖（tomcat  json） 全部引入本项目</p>

<h3 id="主配置类">主配置类</h3>

<pre><code>@SpringBootApplication:spring boot的主配置类\
</code></pre>

<p>该注解包含：</p>

<pre><code>@SpringBootConfiguration： 包含@Configuration，表示“配置类”: 

    1.该类是一个配置类  
    2.加了@Configuration注解的类，会自动纳入Spring 容器  （@Component）

@Configuration
public class A//表示A是一个 用于 配置的类
{
}

@EnableAutoConfiguration：使spring boot可以自动配置 ：

可以找到@SpringBootApplication所在类的包 ，作用：就会将该包及所有的子包 全部纳入spring容器
spring boot在启动时，会根据META-INF/spring.factories找到相应的三方依赖，并将这些依赖引入本项目
</code></pre>

<p>总结：</p>

<pre><code>编写项目时，一般会 对自己写的代码  以及 三方依赖 进行配置。但是spring boot可以自动进行配置：
</code></pre>

<ul>
<li><p>自己写的代码</p>

<p>spring boot通过@SpringBootConfiguration自动帮我们配置；</p></li>

<li><p>三方依赖</p>

<p>通过spring-boot-autoconfigure-2.0.3.RELEASE.jar中的META-INF/spring.factories进行声明，然后通过@EnableAutoConfiguration开启使用即可
spring-boot-autoconfigure-2.0.3.RELEASE.jar包中 包含了 J2EE整合体系中 需要的依赖。</p></li>

<li><p>如何自动装配：
    研究org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration,<br />
    通过观察该源码 发现：
    @Configuration：标识此类是一个配置类  、将此类纳入springioc容器
    @EnableConfigurationProperties(HttpEncodingProperties.class)： 通过HttpEncodingProperties将编码设置为了UTF_8 (即自动装配为UTF_8, 如何修改改编码：通过改HttpEncodingProperties的 predfix+属性名 进行修改 [配置文件中，yml/properties])
        即：该注解给了默认编码utf8，并且提供了prefix+属性名 的方式 供我们修改编码。</p>

<pre><code>@ConditionalOnProperty(prefix = &quot;spring.http.encoding&quot;, value = &quot;enabled&quot;, matchIfMissing = true)
当属性满足要求时，此条件成立  ：要求 如果没有配置spring.http.encoding.enabled=xxx, 则成立。
</code></pre></li>
</ul>

<p>总结：</p>

<ol>
<li><p>每一个<code>XxAutoConfiguration</code>都有很多条件<code>@ConditionalOnXxx</code>，当这些条件都满足时，
则此配置自动装配生效（utf-8）。但是我们可以手工修改改 自动装配：</p>

<pre><code>XxxProperties文件中的  
prefix.属性名=value 
</code></pre></li>

<li><p>全局配置文件中的key， 来源于某个Properties文件中的 prefix+属性名</p>

<pre><code>Springboot通过XxAutoConfiguration实现自动装配 ，修改默认值 XxxProperties（ prefix+属性名）
</code></pre></li>
</ol>

<p>如何知道 spring boot开启了哪些自动装配、禁止了哪些自动装配：</p>

<pre><code>    application.properties中 debug=true
</code></pre>

<ul>
<li><code>Positive matches</code>列表 表示 spring boot自动开启的装配</li>
<li><code>Negative matches</code>列表 表示spring boot在此时 并没有启用的自动装配。

<br /></li>
</ul>

<p>自己写的</p>

<p>引入三方依赖（jar、配置）</p>

<h3 id="配置文件">配置文件</h3>

<p>作用：spring boot 自动配置(约定，8080 ).可以使用配置文件 对默认的配置 进行修改</p>

<p>默认全局配置文件：</p>

<pre><code>application.properties： k=v,或行内写法(k： v，[Set/List/数组] {map,对象类型的属性}，并且 []可省，{}不能省)

application.yml: yaml ain't myarkup language ，不是一个标记文档
</code></pre>

<p>注意：
1. k:空格v<br />
2. 通过垂直对齐 指定层次关系<br />
3. 默认可以不写引号； &ldquo;&ldquo;会将其中的转义符进行转义，其他不会</p>

<p>server:</p>

<pre><code>port: 8882
path: /a/b/c
</code></pre>

<p>xml：是一个标记文档</p>

<pre><code>&lt;server&gt;
    &lt;port&gt;8882&lt;/port&gt;
    &lt;path&gt;/a/b/c&lt;/path&gt;
&lt;/server&gt;
</code></pre>

<h3 id="通过yaml给对象注入值">通过yaml给对象注入值：</h3>

<p>注入值</p>

<p>yaml:</p>

<pre><code>student:
    #name: zs
    #age: 23
    sex: true
    birthday: 2019/02/12
</code></pre>

<p>绑定：</p>

<pre><code>@Component //将此Javabean
@ConfigurationProperties(prefix=&quot;student&quot;)
public class Student 
</code></pre>

<p>绑定：</p>

<pre><code>@ConfigurationProperties(yml/properties)    
@Value(&quot;xx&quot;) 二者可以互补

@ConfigurationProperties    @Value
</code></pre>

<hr />

<pre><code>注值              批量注入                单个

松散语法                支持              不支持

SpEL                不支持             支持

JSR303数据校验      支持              不支持

注入复杂类型          支持              不支持
</code></pre>

<p>简单类型：(8个基本类型/String/Date)</p>

<h3 id="propertysource-默认会加载application-properties-application-yml文件中的数据">@PropertySource：默认会加载application.properties/application.yml文件中的数据；</h3>

<pre><code>例如

@PropertySource(value={&quot;classpath:conf.properties&quot;})加载conf.properties文件中的数据；

但是，@PropertySource只能加载properties，不能加载yml
</code></pre>

<h3 id="importresource">@ImportResource</h3>

<p>spring boot自动装配/自动配置.</p>

<p>spring等配置文件  默认会被spring boot自动给配置好。</p>

<p>如果要自己编写spring等配置文件, spring boot能否识别？</p>

<pre><code>默认不识别。 
</code></pre>

<p>如果需要识别，则需要在spring boot主配置类上 通过<code>@ImportResource</code>指定配置文件的路径</p>

<p>但是不推荐手写spring配置文件。</p>

<p>配置：xml配置文件，通过注解配置。</p>

<p>spring boot推荐时候用注解方式进行配置：写类，<code>@Configuration  @Bean</code>，</p>

<p>示例：</p>

<pre><code>//配置类（等价于spring.xml）
@Configuration
public class AppConfig {
    @Bean       
    public StudentService stuService(){//&lt;bean  id=&quot;xxxxxxxxxxxxx&quot;&gt;
        StudentService stuService = new StudentService();
//      
//      StudentDao stuDao = new StudentDao()  ;
//      stuService.setStudentDao(stuDao);

        return stuService;//返回值 &lt;bean  class=&quot;xxxxxxxxxxxxx&quot;&gt;
    }
}
</code></pre>

<h3 id="spring-boot全局配置文件中的-占位符表达式">spring boot全局配置文件中的 占位符表达式</h3>

<pre><code>$ {random.uuid}:uuid
$ {random.value}随机字符串
$ {random.int} ;随机整型数
$ {random.long}:随机长整型数
$ {random.int(10)}:10以内的整型数
$ {random.int[1024,65536]}:指定随机数范围
</code></pre>

<ul>
<li>随机数 ${random.uuid}等</li>

<li><p>引用变量值</p>

<p>yml中：</p>

<pre><code>student:
    name: ${student.user.name}
</code></pre>

<p>实际引用的是properties中的student.user.name=zl67</p>

<p>yml中：</p>

<pre><code>student:
    name: ${student.user.name2:无名}
</code></pre></li>
</ul>

<p><code>application.properties</code>中没有提示的话
在pom.xml中添加</p>

<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;       
</code></pre>

<h3 id="多环境的切换-profile">多环境的切换（profile）</h3>

<ul>
<li><p>properties</p>

<p>默认boot会读取application.properties环境8882
多个：</p>

<pre><code>application-环境名.properties
application-dev.properties8883
application-test.properties8884
</code></pre>

<p>如果要选择某一个具体的环境： <code>application.properties</code>中指定：<code>spring.profiles.active=环境名</code></p>

<p>如果将<code>application.properties</code>注释掉，spring boot仍然会读取其他appilcation-环境名.properties中的配置。并且properties的优先级高于yml</p></li>

<li><p>yml</p>

<p>第一个环境（主环境）</p>

<pre><code>server:
    port: 8883
spring:
    profiles:
        active: dev  指定本次采用的环境
</code></pre>

<p>第二个环境</p>

<pre><code>server:
    port: 8884
spring:
    profiles: dev  环境名
</code></pre></li>

<li><p>动态切换环境</p>

<ol>
<li><p>通过运行参数指定环境</p>

<ul>
<li><p>STS(Eclipse) ：</p>

<p>Run Configuration - Argument - program Argument
&ndash;spring.profiles.active=环境名</p></li>

<li><p>命令行方式：</p>

<p>（项目打jar包：项目右键&ndash;&gt;run as &ndash;&gt;maven build&hellip;&ndash;&gt;Goals:package&ndash;&gt;run&ndash;&gt;在src同级目录target下会出现jar包）
java -jar 项目名.jar &ndash;spring.profiles.active=环境名</p></li>
</ul></li>

<li><p>通过jvm参数指定环境</p>

<p>STS(Eclipse) ：Run Configuration - Argument - VM
-Dspring.profiles.active=环境名</p></li>
</ol></li>
</ul>

<h3 id="配置文件的位置">配置文件的位置</h3>

<ul>
<li><p>项目内部的配置文件：</p>

<p>properties和yml中的配置，相互补充；如果冲突，则properties优先级高。</p>

<p>spring boot默认能够读取的application.properties/application.yml，这2个文件 可以存在于以下4个地方：</p>

<pre><code>file:项目根目录/config       application.properties
file:项目根目录          application.properties
classpath:项目根目录/config  application.properties
classpath:项目根目录     application.properties
</code></pre>

<p>注意:</p>

<ol>
<li>如果某项配置冲突，则优先级从上往下</li>
<li>如果不冲突，则互补结合使用</li>
</ol>

<p>配置项目名：</p>

<pre><code>properties文件中
server.servlet.context-path=/boot
</code></pre></li>

<li><p>项目外部的配置文件： (补救)</p>

<p>在项目Run configuration ,argumenets:
&ndash;spring.config.location=D:/application.properties</p>

<p>如果 同一个配置 同时存在于 内部配置文件 和外部配置文件，则外部&gt;内部</p>

<p>(clean  package)先清理后打包
HW.jar   运行，8881&ndash;8882</p>

<p>外部配置文件</p>

<p>通过命令行 调用外部配置文件
java -jar  项目.jar  &ndash;spring.config.location=D:/application.properties</p></li>

<li><p>项目运行参数： (补救)（配置与配置直接可以加空格隔开）</p>

<p>在项目Run configuration ,argumenets:
&ndash;server.port=8883</p>

<p>通过命令行 调用外部配置文件</p>

<p>java -jar  项目.jar  &ndash;server.port=8883</p>

<p>多个地方配置时，如果冲突，优先级：</p>

<p>命令参数（调用外部的配置文件 &gt; 运行参数 ）&gt;内部文件 (properties&gt;yaml)</p>

<p><a href="https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-external-config">官网对多配置时的顺序说明：</a></p></li>
</ul>

<h3 id="日志">日志</h3>

<p>日志框架 UCL 、JUL 、jboss-logging、logback、log4j、log4j2、slf4j&hellip;</p>

<p>spring boot默认选用slf4j，logback，spring boot默认帮我们配置好了日志，我们直接使用即可。</p>

<p>日志级别：（LogLevel类中）</p>

<p>TRACE&lt; DEBUG&lt; INFO&lt;WARN&lt; ERROR&lt; FATAL&lt;OFF</p>

<p>springboot默认的日志级别是info（即只打印  info及之后级别的信息）；</p>

<p>也可以自定义级别：全局配置文件中<code>logging.level.org.yq.HelloWorld=warn</code>,即<code>logging.level.主配置类所在包=级别</code></p>

<p>可以通过配置 将日志信息 存储到文件中<code>logging.file=springboot.log</code>存储到了项目的根目录中的<code>springboot.log</code></p>

<p>也可以指定 具体的日志路径：<code>logging.file=D:/springboot.log</code></p>

<p>也可以存储到一个 文件夹中 ，<code>logging.path=D:/log/</code>，并且默认的文件名是spring.log</p>

<p>指定日志显示格式：</p>

<ol>
<li><p>日志显示在console中</p>

<pre><code>logging.pattern.console=%d{yyyy-MM-dd} [%thread] %-5level %logger{50} - %msg%n

%d:             日期时间
%thread：       线程名
%-5level：      显示日志级别,-5表示从左显示5个字符宽度
%logger{50} :   设置日志长度  ，例如o.s.w.s.m.m.a.
%msg：          日志消息
%n ：           回车
</code></pre></li>

<li><p>日志显示在文件中</p>

<pre><code>logging.pattern.file=%d{yyyy-MM-dd} ** [%thread] ** %-5level ** %logger{50}** %msg%n
</code></pre>

<p>/org/springframework/boot/logging/<br />
默认的日志格式，是在jar包中 相应包的xml文件中进行配置。</p>

<p>日志的具体使用规范：<a href="https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-custom-log-configuration">官方说明</a></p></li>
</ol>

<h3 id="springboot开发web项目-静态资源-html-css-js">springboot开发Web项目 (静态资源 html css js  )</h3>

<p>new &ndash; spring starer &ndash;设置（选择 需要的场景，web）</p>

<h4 id="spring-boot是一个jar-因此-静态资源就不是再存放到-webapps中-存放在哪里">spring boot是一个jar，因此 静态资源就不是再存放到 webapps中， 存放在哪里？</h4>

<p>静态资源的存放路径 通过<code>WebMvcAutoConfiguration</code>类-<code>addResourceHandlers()</code>指定:<code>/webjars/</code></p>

<p>spring boot将静态资源存入到jar包中，引入: 从Jar目录结构的webjars开始写：<code>http://localhost:8080/webjars/jquery/3.3.1-1/jquery.js</code></p>

<h4 id="如何自己写-静态资源-如何放到如spring-boot中">如何自己写 静态资源，如何放到如spring boot中？</h4>

<p>将自己写的 静态资源-&gt;jar,同上（不推荐）；</p>

<p>推荐：</p>

<p>spring boot约定： spring boot将一些目录结构 设置成静态资源存放目录，我们的静态资源直接放入这些目录即可 。目录在哪里？</p>

<p><code>ResourceProperties</code>类中的<code>CLASSPATH_RESOURCE_LOCATIONS</code>中设置：</p>

<pre><code>{
    &quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;,
    &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; 
}
</code></pre>

<p>注意：在以上目录存放资源文件后，访问时  不需要加前缀，直接访问即可：<code>http://localhost:8080/world.html</code></p>

<h4 id="设置欢迎页">设置欢迎页：</h4>

<p><code>WebMvcAutoConfiguration</code>类中的<code>welcomePageHandlerMapping()</code> &ndash;&gt;<code>getIndexHtml()</code> &ndash;&gt; <code>location + &quot;index.html&quot;</code> ,即任意一个静态资源目录中的 Index.html就是欢迎页</p>

<p>网站中,网页标签的Logo是固定名字  ： favicon.ico</p>

<h4 id="自定义-favicon-ico">自定义 favicon.ico</h4>

<p>阅读 源码得知:只需要将  <code>favicon.ico</code>文件放入任意静态资源目录中即可。</p>

<p>总结：</p>

<ol>
<li>通过源码发现静态资源的目录<br /></li>
<li>用静态资源：只需要将静态资源放入 以上目录即可</li>
<li>其他特定的文件（欢迎页、ico），只需要 根据约定（index.html  favicon.ico）  放入该目录即可
<br /></li>
</ol>

<h4 id="如何自定义静态资源目录-properties文件中的-prefix-属性">如何自定义静态资源目录（Properties文件中的 prefix+属性） ：</h4>

<pre><code>spring.resources.static-locations=classpath:/res/, classpath:/img/
</code></pre>

<p>以上就将静态资源目录设置为了<code>classpath:/res/</code>, <code>classpath:/img/</code></p>

<p>注意:自定义静态资源目录后  以前默认的目录会失效</p>

<h2 id="动态资源-jsp-spring-boot默认不支持">动态资源： JSP(spring boot默认不支持)</h2>

<p>推荐：模板引擎 thymeleaf</p>

<p>网页= 模板+数据</p>

<h3 id="引入thymeleaf-到官网查询-thymeleaf的依赖-maven">引入thymeleaf：到官网查询 thymeleaf的依赖（Maven）</h3>

<h4 id="使用thymeleaf-代码在哪里写">使用thymeleaf:代码在哪里写？</h4>

<pre><code>    ThymeleafAutoCongifutation 、
    XxProperties
</code></pre>

<p>通过ThymeleafProperties源码得知：</p>

<p>使用thymeleaf只需要将 文件放入目录：<code>&quot;classpath:/templates/&quot;;</code> 文件的后缀： <code>&quot;.html&quot;;</code></p>

<p>注意：在以前传统的web项目中：静态资源修改后  是不需要重启的；但是在spring boot项目中，修改后 需要重启。</p>

<pre><code>&lt;p th:text=&quot;${welcome}&quot;&gt;welcome to thymeleaf....&lt;/p&gt;
</code></pre>

<p>以上，先从<code>${welcome}</code>中取值，如果有 则直接显示；如果没有，则在显示<code>welcome to thymeleaf....</code></p>

<p><code>th</code>就是替换原有html的值：<code>th:html属性名=值</code> ;</p>

<pre><code>&lt;p id=&quot;pid&quot; class=&quot;pclass&quot;  th:id=&quot;${welcome}&quot; th:class=&quot;${welcome}&quot;  th:text=&quot;${welcome}&quot;&gt;welcome to thymeleaf....&lt;/p&gt;

th:xx  (参见第10章  Attrubite Pre....)
th:text   获取文本值(不转义) 显示&lt;h1&gt;hello&lt;/h1&gt;
th:utext  获取文本值    显示 将hello 渲染为h1后的效果

符号
th:text=&quot;${welcome}&quot; ，除了$以外  其他符号？ 查看第四章  Standard Express....
</code></pre>

<h3 id="spring-boot整合jsp开发">Spring boot整合JSP开发</h3>

<p>之前spring boot默认 自带一个内置的tomcat，不需要打war包，直接通过Jar即可运行。但是，如果要整合jsp开发，就需要 单独配置一个 外置的tomcat ，需要打war包。</p>

<h4 id="spring-boot整合jsp开发步骤">Spring boot整合JSP开发步骤：</h4>

<ol>
<li><p>新建boot项目，war</p>

<p>注意：</p>

<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>

<p>provided：意思是 将项目打包时，不需要将内置的tomcat一起打包。</p></li>

<li><p>建立基本的web项目所需要的目录结构</p>

<pre><code>    webapps/WEB-INF(需要)
    webapps/WEB-INF/web.xml (不需要)
    webapps/index.jsp
</code></pre></li>

<li><p>创建tomcat实例、部署项目<br />
    访问：
    域名：端口/项目名/文件名
    <code>http://localhost:8080/SbJSP/index.jsp</code></p></li>
</ol>

<p>分析：</p>

<p>如果是一个war包的spring boot项目，在启动服务器tomcat时， 会自动调用<code>ServletInitializer</code>类中 的<code>configure</code>方法，<code>configure</code>方法会调用spring boot的主配置类 从而启动spring boot;</p>

<p>即在启动tomcat服务器时  会</p>

<ol>
<li>启动tomcat</li>
<li>启动spring boot</li>
</ol>

    </div>
    <div class="article-footer">
<blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接: </strong>
      <a href="https://mumulx.github.io/2019/12/springboot%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/" title="Springboot自学笔记" target="_blank" rel="external">https://mumulx.github.io/2019/12/springboot%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/</a>
    </li>
    <li class="post-copyright-license">
      <strong>License：</strong><a href="https://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN</a>
    </li>
  </ul>
</blockquote>

<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/mumulx" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://mumulx.github.io/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/mumulx" target="_blank"><span class="text-dark">木木就是两个木</span><small class="ml-1x">木木</small></a></h3>
        <div>愿生活不太拥挤，愿笑容不必刻意。</div>
      </div>
    </figure>
  </div>
</div>
    </div>
  </article>
<section id="comments">
</section>

</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="https://mumulx.github.io/2019/12/express%E6%A1%86%E6%9E%B6/" title="Express框架"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;下一篇</span></a>
            </li>
            <li class="next">
                <a href="https://mumulx.github.io/2019/12/vue%E8%87%AA%E5%AD%A6%E7%AC%94%E8%AE%B0/"
                    title="Vue自学笔记"><span>上一篇&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
            
            <li class="toggle-toc">
                <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false"
                    title="文章目录" role="button">
                    <span>[&nbsp;</span><span>文章目录</span>
                    <i class="text-collapsed icon icon-anchor"></i>
                    <i class="text-in icon icon-close"></i>
                    <span>]</span>
                </a>
            </li>
        </ul>
        
        <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal"
            data-target="#donateModal"><span>赏</span></button>
        
        <div class="bar-right">
            <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter"
                data-mobile-sites="weibo,qq,qzone"></div>
        </div>
    </div>
</nav>


<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content donate">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                    aria-hidden="true">&times;</span></button>
            <div class="modal-body">
                <div class="donate-box">
                    <div class="donate-head">
                        <p>感谢您的支持,我会继续努力的!</p>
                    </div>
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane fade active in" id="alipay">
                            <div class="donate-payimg">
                                <img src="https://mumulx.github.io/donate/alipayimg.png"
                                    alt="扫码支持" title="扫一扫" />
                            </div>
                            <p class="text-muted mv">扫码打赏, 多少你说了算~</p>
                            <p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦~</p>
                        </div>
                        <div role="tabpanel" class="tab-pane fade" id="wechatpay">
                            <div class="donate-payimg">
                                <img src="https://mumulx.github.io/donate/wechatpayimg.png"
                                    alt="扫码支持" title="扫一扫" />
                            </div>
                            <p class="text-muted mv">扫码打赏, 多少你说了算~</p>
                            <p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p>
                        </div>
                    </div>
                    <div class="donate-footer">
                        <ul class="nav nav-tabs nav-justified" role="tablist">
                            <li role="presentation" class="active">
                                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay"
                                    aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
                            </li>
                            <li role="presentation" class="">
                                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab"
                                    aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i>
                                    微信支付</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</main><footer class="footer" itemscope itemtype="https://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/mumulx" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://mumulx.github.io/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
    <li><a href="https://weibo.com/u/5459389722" target="_blank" title="weibo" data-toggle=tooltip data-placement=top >
            <i class="icon icon-weibo"></i></a></li>
</ul>
  <div class="copyright">
    &copy;2019  -
    2020
    <div class="publishby">
        联系邮箱：<a target="_blank" title="木木的邮箱"> 1819778796@qq.com </a>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
   window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/rust.min.js"></script>
<script type="text/javascript"
   src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script>
hljs.configure({
  tabReplace: '    ', 
  classPrefix: ''     
                      
})
hljs.initHighlightingOnLoad();
</script>
<script type="text/javascript" src="https://mumulx.github.io/js/application.js"></script>
<script type="text/javascript" src="https://mumulx.github.io/js/plugin.js"></script>
<script>
      (function (window) {
          var INSIGHT_CONFIG = {
              TRANSLATION: {
                  POSTS: '文章',
                  PAGES: '页面',
                  CATEGORIES: '分类',
                  TAGS: '标签',
                  UNTITLED: '(未命名)',
              },
              ROOT_URL: 'https:\/\/mumulx.github.io\/',
              CONTENT_URL: 'https:\/\/mumulx.github.io\/\/searchindex.json ',
          };
          window.INSIGHT_CONFIG = INSIGHT_CONFIG;
      })(window);
      </script>
<script type="text/javascript" src="https://mumulx.github.io/js/insight.js"></script>


<script src="https://cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '1ccf8dc9e86b3575cfb2',
        clientSecret: '048ae422c4a6207a4e89c58ba1d4ebf820136bb0',
        repo: 'gittalk',
        owner: 'mumulx',
        admin: ['mumulx'],
        id: md5(location.pathname),
        distractionFreeMode: true
    });
    gitalk.render('comments');
</script>

  </body>
</html>
